<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>animation</title>
    <link rel="stylesheet" href="./index2.css" />
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
</head>

<body>
    <!--Стартова кнопка-->
    <button onclick="showMenu()" class="b1"></button>
    <div id="sidebar">
        <!--Основной блок-->
        <ul>
            <!--menu-->
            <li><button class="button">Первая</button></li>
            <li><button class="button">Вторая</button></li>
            <li><button class="button">Третья</button></li>
            <li><button class="button">Четвёртая</button></li>
            <li><button class="button" onClick="showPopup();">Проверка данных</button>
        </ul>
        <!--menu-->
        <div class="main">
            <!--Form-->
            <form action="" method="get" id="form">
                <h3>NAME</h3>
                <input type="text" name="name" class="input" />
                <h3>EMAIL</h3>
                <input type="email" name="email" class="input" />
                <input type="submit" id="submitButton" value="Отправка" />
            </form>
            <!--Form-->
        </div>
        <!--Основной блок-->


        <!--Скрипты-->
        <script>
            var count = 0;
            var sidebar;
            var img;

            function showMenu() {
                if (count % 2 == 0) {
                    parent = document.getElementById("sidebar");
                    parent.style.cssText =
                        "left:-20%; animation-name: sidebar; \
        animation-duration:2s; animation-fill-mode: forwards;";
                    img = document.getElementsByTagName("img")[0];
                    count++;
                } else {
                    parent.style.cssText =
                        "left: 0%; animation-name: sidebar2; \
        animation-duration:2s; animation-fill-mode: forwards;";
                    count++;
                }
            }
        </script>
        <script>
            function showPopup() {
                $(".main").fadeIn(800); // Медленно выводим изображение
            }
        </script>
        <script>
            setInterval(function submitButton() {
                var form = document.getElementById("form");
                var subButton = document.getElementById("submitButton");
                if (form.name.value == "" || form.email.value == "") {
                    subButton.disabled = true;
                } else {
                    subButton.disabled = false;
                    subButton.style.background = 'red';
                }
            }, 10);
        </script>
        <!--Скрипты-->
</body>

</html>